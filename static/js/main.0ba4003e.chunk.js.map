{"version":3,"sources":["components/Header/index.jsx","components/CanvasDraw/index.js","util/index.js","views/List/index.jsx","views/Home/index.jsx","views/About/components/hookDemo.jsx","views/About/index.jsx","views/Login/index.jsx","views/SidebarDemo/SidebarIndex/index.jsx","views/SidebarDemo/SidebarFoo/index.jsx","views/SidebarDemo/SidebarToo/index.jsx","views/SidebarDemo/components/Todo/index.jsx","views/SidebarDemo/components/TodoList/index.jsx","views/SidebarDemo/OtherTest/index.jsx","views/SidebarDemo/components/models/TodoModel.js","views/SidebarDemo/components/models/TodoListModel.js","views/SidebarDemo/links.js","views/SidebarDemo/index.jsx","views/DataSet/components/DatasetTypeHeader.jsx","components/BaiduTagging/util.js","components/BaiduTagging/index.js","views/DataSet/index.jsx","views/AntvDemo/index.jsx","router/router.js","views/PolygonLinePoint/components/PolygonHeader.jsx","views/PolygonLinePoint/index.jsx","views/NoMatch/index.jsx","router/index.js","App.js","serviceWorker.js","index.js"],"names":["Header","react_default","a","createElement","react_router_dom","to","React","PureComponent","CanvasDraw","opt","Object","classCallCheck","this","config","containerId","w","h","img","drawType","lineWidth","data","pointRadius","pointFillColor","lineFillColor","polygonFillColor","drawData","isCanDraw","mouseMoveHasClick","curData","imgOnLoadCb","isLoaded","canvas","merge","init","renderUI","loadStyle","_this","rootEl","document","getElementById","bgImg","querySelector","src","appendChild","onload","e","target","_imgFullContainer","imgW","imgH","containerW","containerH","imgScale","left","parseInt","top","imgFullContainer","width","height","style","position","z-index","keys","len","length","i","key","ininCanvas","bindEvt","onError","console","log","styleEl","className","concat","innerHTML","head","deepClone","source","dest","Error","constructor","Array","hasOwnProperty","G","Canvas","initPolygon","item","type","points","drawPolygon","addPoint","drawMutipleLine","addPolygon","def","forEach","addShape","attrs","x","y","_this2","x1","y1","x2","y2","addLine","radius","zIndex","r","stroke","fill","draw","lineJoin","clear","on","CanvasMousedown","bind","canvasMouseMove","btn","event","button","canvasLeftClick","canvasRightClick","storageDrawData","push","curDataLen","clean","drawPath","lines","itemNext","xNext","yNext","_this$config","isOnlyShow","obj","arr","toConsumableArray","arrLen","destroy","List","toAbout","props","history","pathname","state","id","Fragment","onClick","query","day","useFriendStatus","friendID","_useState","useState","_useState2","slicedToArray","isOnline","setIsOnline","handleStatusChange","status","useEffect","setTimeout","FriendListItem","color","FriendStatus","About","hookDemo","Login","SidebarIndex","SidebarFoo","SidebarToo","Todo","observer","_ref","todo","checked","finished","onChange","title","TodoList","onSubmit","handleFormSubmit","value","newTodoTitle","handleInputChange","store","todos","map","components_Todo","unfinishedTodoCount","Component","observable","action","_this3","addTodo","preventDefault","TodoModel","Math","random","initializerDefineProperty","TodoModel_descriptor","TodoModel_descriptor2","filter","computed","links","name","component","exact","components_TodoList","notSubRouter","SidebarDemo","match","url","react_router","path","DatasetTypeHeader","scale","maxScale","minScale","activeIndex","scaleDef","setScale","_this$state","setState","setType","initScale","icon","addHandle","dom","fn","addEventListener","attachEvent","oldDomFun","removeHandle","removeEventListener","detachEvent","BaiduTagging","circleTagSize","borderWidth","container","borderColor","bg","tagTitleTips","drawEndCallback","imgOnload","curImgW","curImgH","assign","isEnterWrapper","maxWidth","maxHeight","tagIndex","tagIndexObj","clickPos","mouseIsEnterDrawedTag","drawedTagIsCanDrag","tagClickPos","selectTagIndex","tagIsCanScale","circleClickPos","xmin","ymin","xmax","ymax","funcKey","circleDragFuncObj","circle_tag1","circle_tag2","circle_tag3","circle_tag4","circle_tag5","circle_tag6","circle_tag7","circle_tag8","isMouseClickInWrapper","lastScale","bgImgIsCanDrag","scaleMultiple","initContainerStyle","createBgImg","overflow","main","wrapper","parseFloat","currentImgWidth","currentImgHeight","bgImgStartX","bgImgStartY","initTags","wrapperMouseOver","wrapperMouseLeave","wrapperMouseDown","wrapperMouseUp","wrapperMouseMove","documentMouseUp","_this$config2","scaleNum","setBgImgSize","setBgImgMainPos","classList","remove","add","indexOf","mouseEnterDrawedTag","tagDrawEnd","pageX","pageY","startX","offsetX","startY","offsetY","bmImgTop","bmImgLeft","drawedTagMouseDown","tagCircleMouseDown","removeBtnClick","mouseMoveDragTag","tagCircleMouseMove","drawTagging","bgImgDrag","_this$data$clickPos","_this$config3","maxLeft","maxTop","setBgImgMainPosStyle","_this$data$clickPos2","tag","getCurrentTag","addTagDom","abs","storageCurTagData","sizeObj","getPercentNum","setTagSize","_this$getPercentNum","setTagPos","setTagBgBorder","_this$config4","tagIndexId","tagObj","tagClassName","setAttribute","drawSizeTooMinCancel","addCircleTitle","currentTagDrawEndAddClass","_this$config5","_this$config6","lastCurrentImgWidth","lastCurrentImgHeight","centralPoint","_this$scaleCalculatio","scaleCalculationImgPos","_this$config7","styleTop","_this$config8","logx","logy","floor","bgColor","border","background","minDistance","_this$config9","currentImgHieght","parentNode","removeChild","distance","styleStr","isInit","tagTitle","hasCircleTagTitle","tagContent","currentTagShowCircle","activeTag","getAttribute","removeTag","currentTag","_this$data$tagIndexOb","_this$data$tagClickPo","_this$getPercentNum2","_left","_top","_this$data$tagIndexOb2","_this$data$circleClic","_x","_y","tagChageSize","moveX","moveY","min","_this$getPercentNum3","minW","minH","tag_name","render_width","render_height","tag_id","addTags","tagMain","DataSet","switchImg","click","uploadImg","file","files","reader","FileReader","readAsDataURL","imgUrl","result","refs","datasetTypeHeader","initBaiduTagging","baiduTaggingDestory","baiduTag","dispose","getTagData","es_button","marginLeft","accept","components_DatasetTypeHeader","ref","AntvDemo","canvasDraw","imgIsLoaded","initChart","chart","G2","Chart","forceFit","view","genre","sold","interval","polygon","size","render","G2Demo","line","initCanvas","lineCap","canvasBindEvt","initCanvasDraw","setDrawType","margin","router","needLogin","NoMatch","AllRouter","isLogined","routes","route","index","from","location","getConfirmation","message","callback","window","confirm","App","getUserConfirmation","src_router","Boolean","hostname","ReactDOM","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0ba4003e.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\n\nclass Header extends React.PureComponent {\n  render() {\n    return (\n        <div>\n          <nav>\n            <ul>\n              <li>\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/about\">About</Link>\n              </li>\n              {/* <li>\n                <Link to=\"/users\">Users</Link>\n              </li>\n              <li>\n                <Link to=\"/topics\">Topics</Link>\n              </li> */}\n              <li>\n                <Link to=\"/list\">list</Link>\n              </li>\n              <li>\n                <Link to=\"/sidebar_demo\">sidebarDemo</Link>\n              </li>\n              <li>\n                <Link to=\"/data_set\">数杮标注demo</Link>\n              </li>\n              <li>\n                <Link to=\"/antv_demo\">antv_demo</Link>\n              </li>\n              <li>\n                <Link to=\"/polygon_line_point\">点线框插件演示</Link>\n              </li>\n            </ul>\n          </nav>\n\n          {/* <Route path=\"/home\" component={Index} />\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/users\" component={Users} />\n          <Route path=\"/topics\" component={Topics} />\n          <Route path=\"/list\" component={List} /> */}\n        </div>\n    )\n  }\n}\n\nexport default Header","import G from '@antv/g'\nimport { deepClone, addHandle, removeHandle, imgFullContainer } from '@/util'\n\nclass CanvasDraw {\n  constructor(opt) {\n    this.config = {\n      containerId: 'canvasDraw',\n      w: 760,\n      h: 400,\n      img: 'https://static2.extremevision.com.cn/images/lion/case/case_bg1_0307.png?201906131041)',\n      drawType: 'polygon',\n      lineWidth: 4,\n      data: [\n        // {\n        //   type: 'point',\n        //   data: [10, 30]\n        // },\n        // {\n        //   type: 'line',\n        //   data: [\n        //     {x1: 150, y1: 150, x2: 150, y2: 300}\n        //   ]\n        // },\n        // {\n        //   type: 'polygon',\n        //   data: [\n        //     [50, 50],\n        //     [200, 50],\n        //     [200, 150],\n        //     [50, 150]\n        //   ]\n        // },\n      ],\n      pointRadius: 4,\n      pointFillColor: 'yellow',\n      lineFillColor: 'red',\n      polygonFillColor: 'blue',\n      //  画布绘画数据\n      drawData: [],\n      //  画布是否可以绘画\n      isCanDraw: true,\n      //  鼠标在画布上移动前是否有鼠标左键点击\n      mouseMoveHasClick: false,\n      //  当前绘画单根线条或框的数据\n      curData: [],\n      //  图片加载回调\n      imgOnLoadCb: (isLoaded) => {}\n    }\n\n    this.canvas = null\n    this.config = this.merge(this.config, opt)\n    this.init()\n  }\n\n  init() {\n    this.renderUI()\n    this.loadStyle()\n  }\n\n  renderUI() {\n    this.config.rootEl = document.getElementById(this.config.containerId)\n    let bgImg = document.querySelector('.bg_img')\n\n    if (!bgImg) {\n      bgImg = document.createElement('img')\n      bgImg.src = this.config.img\n      this.config.rootEl.appendChild(bgImg)\n    }\n\n    bgImg.onload = (e) => {\n      let target = e.target\n      let imgW = target.width\n      let imgH = target.height\n      let width = this.config.w\n      let height = this.config.h\n\n      let { w, h, left, top } = imgFullContainer(imgW, imgH, width, height)\n      let style = {\n        width: w + 'px',\n        height: h + 'px',\n        position: 'absolute',\n        top: top + 'px',\n        left: left + 'px',\n        'z-index': 5\n      }\n      \n      let keys = Object.keys(style)\n      let len = keys.length\n\n      for (let i = 0; i < len; i++) {\n        let key = keys[i]\n        bgImg.style[key] = style[key]\n      }\n      \n      this.ininCanvas(w, h)\n      this.bindEvt()\n      this.config.imgOnLoadCb(true)\n    }\n    \n    bgImg.onError = () => {\n      console.log('图片加载失败！')\n      this.config.imgOnLoadCb(false)\n    }\n  }\n\n  loadStyle() {\n    let styleEl = document.querySelector('.canvas_draw_style')\n\n    if (!styleEl) {\n      styleEl = document.createElement('style')\n      styleEl.className = 'canvas_draw_style'\n    }\n\n    let style = `\n      #${this.config.containerId} {\n        position: relative;\n      }\n\n      #${this.config.containerId} canvas {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 10;\n      }\n    `\n    styleEl.innerHTML = style\n    let head = document.querySelector('head')\n    console.log('head', head)\n    head.appendChild(styleEl)\n  }\n\n  //  初始化画布\n  ininCanvas(w, h) {\n    // let width = this.config.w\n    // let height = this.config.h\n    let containerId = this.config.containerId\n    let data = this.config.data\n    this.config.drawData = deepClone(data)\n\n    this.canvas = new G.Canvas({\n      containerId,\n      width: w,\n      height: h\n    })\n\n    console.log('ininCanvas', this.canvas)\n\n    //  绘制底图\n    //  this.drawBgImg()\n\n    //  初始化点线框\n    this.initPolygon()\n  }\n\n  //  初始化点线框\n  initPolygon() {\n    let data = this.config.drawData\n    //  console.log('initPolygon', data)\n    let len = data.length\n\n    for(let i = 0; i < len; i++) {\n      let item = data[i]\n      let type = item.type\n      let points = item.data\n\n      if (!points.length) continue\n\n      this.drawPolygon(type, points)\n    }\n  }\n\n  //  绘画点线框\n  drawPolygon(type, points) {\n    switch(type) {\n      case 'point':\n        this.addPoint(points[0], points[1])\n        break;\n\n      case 'line':\n        this.drawMutipleLine(points)\n        break;\n\n      case 'polygon':\n        this.addPolygon(points)\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  merge(def, opt) {\n    if (typeof opt !== 'object') return\n\n    let keys = Object.keys(opt)\n    keys.forEach(key => {\n      def[key] = opt[key]\n    })\n\n    return def\n  }\n\n  drawBgImg() {\n    let w = this.config.w\n    let h = this.config.h\n    let img = this.config.img\n\n    this.canvas.addShape('image', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: w,\n        height: h,\n        img\n      }\n    })\n  }\n\n  //  一根线条由多根组成\n  drawMutipleLine(points) {\n    let len = points.length\n\n    points.forEach(item => {\n      let { x1, y1, x2, y2 } = item\n      this.addLine(x1, y1, x2, y2)\n    })\n  }\n\n  addPoint(x, y) {\n    let pointFillColor = this.config.pointFillColor\n    let radius = this.config.pointRadius\n\n    this.canvas.addShape('circle', {\n      zIndex: 5,\n      attrs: {\n        x,\n        y,\n        r: radius,\n        stroke: pointFillColor,\n        fill: pointFillColor\n      }\n    })\n\n    this.canvas.draw()\n  }\n\n  addLine(x1, y1, x2, y2) {\n    let lineFillColor = this.config.lineFillColor\n    let lineWidth = this.config.lineWidth\n\n    this.canvas.addShape('line', {\n      zIndex: 5,\n      attrs: {\n        x1,\n        y1,\n        x2,\n        y2,\n        fill: lineFillColor,\n        stroke: lineFillColor,\n        lineJoin: 'round',\n        lineWidth\n      }\n    })\n\n    this.canvas.draw()\n  }\n\n  addPolygon(points) {\n    let polygonFillColor = this.config.polygonFillColor\n    let lineWidth = this.config.lineWidth\n\n    this.canvas.addShape('polygon', {\n      zIndex: 5,\n      attrs: {\n        points,\n        fill: polygonFillColor,\n        stroke: polygonFillColor,\n        lineWidth\n      }\n    })\n\n    this.canvas.draw()\n  }\n\n  //  设置绘画类型\n  setDrawType(drawType) {\n    this.config.drawType = drawType\n    this.config.isCanDraw = true\n  }\n\n  //  画布清除\n  clean() {\n    console.log('画布清除')\n    this.canvas.clear()\n  }\n\n  bindEvt() {\n    let canvas = this.canvas\n\n    canvas.on('mousedown', this.CanvasMousedown.bind(this))\n    canvas.on('mousemove', this.canvasMouseMove.bind(this))\n  }\n\n  //  画布点击事件\n  CanvasMousedown(e) {\n    let isCanDraw = this.config.isCanDraw\n    let drawType = this.config.drawType\n\n    if (!isCanDraw) return\n\n    let btn = e.event.button\n    let x = e.x\n    let y = e.y\n\n    //  鼠标左键\n    if (btn === 0) {\n      console.log('鼠标左键')\n\n      this.canvasLeftClick(x, y, drawType)\n    }\n\n    if (btn === 2) {\n      console.log('鼠标右键')\n      this.canvasRightClick(x, y, drawType)\n    }\n    \n\n    // console.log('CanvasClick', e)\n  }\n\n  //  鼠标左键点击\n  canvasLeftClick(x, y, drawType) {\n    console.log('canvasLeftClick', this.config.drawData)\n    \n    switch(drawType) {\n      case 'point':\n        this.addPoint(x, y)\n\n        let type = 'point'\n        let data = [x, y]\n        this.storageDrawData(type, data, true)\n        break;\n\n      case 'line':\n          this.addPoint(x, y)\n          this.config.mouseMoveHasClick = true\n          \n          this.config.curData.push([x, y])\n          break;\n\n      default:\n        break;\n    }\n  }\n\n  //  鼠标右键点击\n  canvasRightClick(x, y, drawType) {\n    let curData = this.config.curData\n    let curDataLen = curData.length\n    if ((!curDataLen || curDataLen === 1) && !this.config.drawData.length) return\n\n    console.log('canvasRightClick', x, y)\n    this.config.mouseMoveHasClick = false\n    \n    switch(drawType) {\n      case 'point':\n        break;\n\n      case 'line':\n        this.clean()\n        this.initPolygon()\n\n        this.drawPath(curData)\n        let lines = []\n\n        for(let i = 0; i < curDataLen; i++) {\n          let item = curData[i]\n          let x = item[0]\n          let y = item[1]\n          let points = []\n          // points.push(x, y)\n          this.storageDrawData('point', points, true)\n\n          let itemNext = curData[i + 1]\n          //  添加线条路劲\n          if (itemNext) {\n            let xNext = itemNext[0]\n            let yNext = itemNext[1]\n            lines.push(x, y, xNext, yNext)\n            this.storageDrawData('line', lines)\n          }\n        }\n        this.config.curData = []\n\n        console.log('getData', this.config.drawData)\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  //  画布mousemove\n  canvasMouseMove(e) {\n    let { mouseMoveHasClick, isCanDraw, curData, drawType } = this.config\n    if (drawType === 'point' || !isCanDraw || !mouseMoveHasClick) return\n\n    //  console.log('canvasMouseMove line')\n\n    let x = e.x\n    let y = e.y\n    let len = curData.length\n\n    switch(drawType) {\n      case 'line':\n        this.clean()\n        // this.drawBgImg()\n        this.initPolygon()\n        this.drawPath(curData, x, y)\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  //  存储绘画数据\n  storageDrawData(type, data, isOnlyShow) {\n    let obj = {\n      type,\n      data,\n      isOnlyShow: isOnlyShow || false\n    }\n\n    this.config.drawData.push(obj)\n  }\n\n  //  线条和多边形绘制路劲\n  drawPath(curData, x, y) {\n    let len = curData.length\n    let arr = x ? [...curData, [x, y]] : [...curData]\n    let arrLen = arr.length\n\n    if (!len) return\n\n    let points = []\n    let lines = []\n\n    for (let i = 0; i < arrLen; i++) {\n      let item = arr[i]\n      let itemNext = arr[i + 1]\n\n      let x = item[0]\n      let y = item[1]\n\n      //  添加点路劲\n      this.addPoint(x, y)\n\n      //  添加线条路劲\n      if (itemNext) {\n        let xNext = itemNext[0]\n        let yNext = itemNext[1]\n        this.addLine(x, y, xNext, yNext)\n      }\n    }\n\n    // for (let i = 0; i < len; i++) {\n    //   let item = curData[i]\n\n    //   //  添加点数据\n    //   let x = item[0]\n    //   let y = item[1]\n    //   this.addPoint(x, y)\n    //   points.push([x, y])\n\n    //   //  添加线条数据\n\n    //   if (i % 2 === 1) {\n    //     let last = curData[i - 1]\n    //     nextItem = nextItem ? nextItem : [x, y]\n    //     let x1 = item[0]\n    //     let y1 = item[1]\n    //     let x2 = nextItem[0]\n    //     let y2 = nextItem[1]\n    //   }\n    //   this.addLine(x1, y1, x2, y2)\n    //   lines.push({x1, y1, x2, y2})\n    //   console.log('drawPath')\n    // // }\n    // return  { points, lines }\n  }\n\n  //  插件销毁\n  dispose() {\n    this.config.rootEl.innerHTML = ''\n    this.canvas.destroy()\n  }\n}\n\nexport default CanvasDraw","const deepClone = (source, dest) => {\n  if (!source && typeof source !== 'object') {\n    throw new Error('error arguments', 'shallowClone')\n  }\n  dest = dest || (source.constructor === Array ? [] : {})\n  for (const key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (source[key] && typeof source[key] === 'object') {\n        dest[key] = source[key].constructor === Array ? [] : {}\n        deepClone(source[key], dest[key])\n      } else {\n        dest[key] = source[key]\n      }\n    }\n  }\n  return dest\n}\n\n//  读取localStorage\nconst getStorageItem = (key) => {\n  return JSON.parse(window.localStorage.getItem(key))\n}\n\n//  读取localStorage\nconst setStorageItem = (key, val) => {\n  window.localStorage.setItem(key, JSON.stringify(val))\n}\n\n//  删除\nconst removeStoreItem = (key) => {\n  window.localStorage.removeItem(key)\n}\n\n//  事件绑定兼容\nconst addHandle = (dom, type, fn) => {\n  if (document.addEventListener) {\n    dom.addEventListener(type, fn, false)\n  } else if (document.attachEvent) {\n    dom.attachEvent('on' + type, fn)\n  } else {\n    let oldDomFun = dom['on' + type]\n    dom['on' + type] = function() {\n      oldDomFun()\n      fn && fn()\n    }\n  }\n}\n\n//  事件解绑\nconst removeHandle = (dom, type, fn) => {\n  if (document.removeEventListener) {\n    dom.removeEventListener(type, fn)\n  } else if (document.detachEvent) {\n    dom.detachEvent('on' + type, fn)\n  } else {\n    dom['on' + type] = null\n  }\n}\n\n//  获取元素相对于文档位置\nconst getEleOffsetTopLeft = (ele) => {\n  let current = ele.offsetParent\n  let actualTop = ele.offsetTop\n  let actualLeft = ele.offsetLeft\n\n  while(current !== null) {\n    actualLeft += current.offsetLeft\n    actualTop += current.offsetTop\n    current = current.offsetParent\n  }\n\n  return {\n    offsetLeft: actualLeft,\n    offsetTop: actualTop\n  }\n}\n\n//  图片等比缩放 宽或高充满容器放置\nconst imgFullContainer = (imgW, imgH, containerW, containerH) => {\n  let imgScale = imgW / imgH\n  let containerScale = containerW / containerH\n  let w = 0\n  let h = 0\n  let left = 0\n  let top = 0\n\n  if (imgScale > containerScale) {\n    w = containerW\n    h = w * (imgH / imgW)\n  } else {\n    h = containerH\n    w = h * imgScale\n  } \n  left = parseInt((containerW - w) / 2)\n  top = parseInt((containerH - h) / 2)\n  return { w, h, left, top }\n}\n\nexport {\n  deepClone,\n  getStorageItem,\n  setStorageItem,\n  removeStoreItem,\n  addHandle,\n  removeHandle,\n  getEleOffsetTopLeft,\n  imgFullContainer\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nclass List extends React.PureComponent {\n  componentDidMount() {\n    console.log(this.props)\n  }\n  toAbout = () => {\n    this.props.history.push({\n      pathname: '/about',\n      state: {id: 1}\n    })\n  }\n  render() {\n    return (\n      <>\n        <div>list</div>\n        <button onClick={this.toAbout}>button to about</button>\n        <Link to={{ pathname: '/about/78' , query : { day: 'Friday' }}}>\n          link to about\n        </Link>\n      </>\n    )\n  }\n}\n\nexport default List","import React from 'react'\nimport { Header } from '@/components'\n\n\nclass Home extends React.PureComponent {\n  render() {\n    return (\n        <div>\n          <Header />\n        </div>\n    )\n  }\n}\n\nexport default Home","import React, { useState, useEffect } from 'react'\n\nfunction useFriendStatus(friendID) {\n  const [isOnline, setIsOnline] = useState(null)\n\n  function handleStatusChange(status) {\n    setIsOnline(status.isOnline)\n  }\n\n  useEffect(() => {\n    setTimeout(() => {\n      handleStatusChange({isOnline: true})\n    }, 5000)\n\n    return () => {\n      setTimeout(() => {\n        handleStatusChange({isOnline: false})\n      }, 3000)\n    }\n  })\n\n  return isOnline\n}\n\nfunction FriendStatus(props) {\n  let isOnline = useFriendStatus()\n\n  if (!isOnline) {\n    return '...loading'\n  }\n\n  return isOnline ? 'Online' : 'Offline'\n}\n\nfunction FriendListItem(props) {\n  const isOnline = useFriendStatus()\n\n  return (\n    <li style={{ color: isOnline ? 'green' : 'black' }}>\n      { FriendStatus() }\n    </li>\n  )\n}\n\nexport default FriendListItem","import React from 'react'\nimport FriendListItem from './components/hookDemo'\n\nclass About extends React.PureComponent {\n  componentDidMount() {\n    console.log(this.props)\n  }\n  render() {\n    return (\n      <div>\n        <ul>\n          <FriendListItem />\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default About","import React from 'react'\n// import {\n//   BrowserRouter as Router,\n//   Route,\n//   Link,\n//   Redirect,\n//   withRouter\n// } from \"react-router-dom\"\n\n// const fakeAuth = {\n//   isAuthenticated: false,\n//   authenticate(cb) {\n//     this.isAuthenticated = true\n//     setTimeout(cb, 100)\n//   },\n//   signout(cb) {\n//     this.isAuthenticated = false\n//     setTimeout(cb, 100)\n//   }\n// }\n\nclass Login extends React.PureComponent {\n  render() {\n    return (\n      <div>Login</div>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\n\nclass SidebarIndex extends React.PureComponent {\n  render() {\n    return (\n      <div>sidebar index</div>\n    )\n  }\n}\n\nexport default SidebarIndex","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nclass SidebarFoo extends React.PureComponent {\n  render() {\n    return (\n      <>\n        <div>sidebar foo</div>\n        <Link to={`/sidebar_demo/other_test`}>other test</Link>\n      </>\n    )\n  }\n}\n\nexport default SidebarFoo","import React from 'react'\n\nclass SidebarToo extends React.PureComponent {\n  render() {\n    return (\n      <div>sidebar too</div>\n    )\n  }\n}\n\nexport default SidebarToo","import React from 'react'\nimport { observer } from 'mobx-react'\n\nconst Todo = observer(({ todo }) => (\n  <li>\n    <input\n      type=\"checkbox\"\n      checked={todo.finished}\n      onChange={() => {\n        todo.finished = !todo.finished\n      }}/>\n      { todo.title }\n  </li>\n))\n\nexport default Todo","import React, { Component } from 'react'\nimport { observable, action } from 'mobx'\nimport { observer } from 'mobx-react'\nimport Todo from '../Todo'\n\n@observer\nclass TodoList extends Component {\n  @observable newTodoTitle = '';\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleFormSubmit}>\n          New Todo:\n          <input type=\"text\" value={this.newTodoTitle} onChange={this.handleInputChange} />\n          <button type=\"submit\">Add</button>\n        </form>\n        <hr/>\n\n        <ul>\n          {\n            this.props.store.todos.map(todo => (\n              <Todo todo={todo} key={todo.id} />\n            ))\n          }\n        </ul>\n\n        Task left: {this.props.store.unfinishedTodoCount}\n      </div>\n    )\n  }\n\n  @action\n  handleInputChange = (e) => {\n    this.newTodoTitle = e.target.value\n  }\n\n  @action\n  handleFormSubmit = (e) => {\n    this.props.store.addTodo(this.newTodoTitle)\n    this.newTodoTitle = ''\n    e.preventDefault()\n  }\n}\n\nexport default TodoList","import React from 'react'\nimport TodoList from '../components/TodoList'\nimport TodoListModel from '../components/models/TodoListModel'\n\nconst store = new TodoListModel()\n\nclass OtherTest extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        other test\n        <TodoList store={store} />\n      </div>\n    )\n  }\n}\n\nexport default OtherTest","import { observable } from 'mobx'\n\nexport default class TodoModel {\n  id = Math.random()\n  @observable title\n  @observable finished = false\n\n  constructor(title) {\n    this.title = title\n  }\n}","import { observable, computed, action } from 'mobx'\nimport TodoModel from './TodoModel'\n\nexport default class TodoListModel {\n  @observable todos = [];\n\n  @computed\n  get unfinishedTodoCount() {\n    return this.todos.filter(todo => !todo.finished).length\n  }\n\n  @action\n  addTodo(title) {\n    let obj = {\n      title,\n      id: Math.random(),\n      finished: false\n    }\n    this.todos.push(obj)\n    //  this.todos.push(new TodoModel(title))\n  }\n}","import SidebarIndex from './SidebarIndex'\nimport SidebarFoo from './SidebarFoo'\nimport SidebarToo from './SidebarToo'\nimport OtherTest from './OtherTest'\n\nconst links = [\n  {\n    name: 'sidebarIndex',\n    to: '',\n    component: SidebarIndex,\n    exact: true\n  },\n  {\n    name: 'sidebarFoo',\n    to: '/foo',\n    component: SidebarFoo\n  },\n  {\n    name: 'sidebarToo',\n    to: '/too',\n    component: SidebarToo\n  },\n  {\n    name: 'otherTest',\n    to: '/other_test',\n    component: OtherTest,\n    notSubRouter: true\n  },\n]\n\nexport default links","import React from 'react'\nimport { Switch, Route, Link } from 'react-router-dom'\nimport links from './links'\nimport OtherTest from './OtherTest'\n\nconst SidebarDemo = ({ match }) => {\n  return (\n    <>\n        <ul>\n          {\n            links.map((item, i) => {\n              return item.notSubRouter ? null :\n              (\n                <li key={i}>\n                  <Link to={`${match.url}${item.to}`}>{item.name}</Link>\n                </li>\n              )\n            })\n          }\n        </ul>\n        <Switch>\n          {\n            links.map((item, i) => {\n              return (\n                <Route exact={item.exact} key={i} path={`${match.path}${item.to}`} component={item.component}/>\n              )\n            })\n          }\n        </Switch>\n    </>\n  )\n}\n\nexport default SidebarDemo","import React from 'react'\nimport { Icon } from 'antd'\n\nclass DatasetTypeHeader extends React.PureComponent {\n  state = {\n    //  放大倍数\n    scale: 1,\n    //  放大最大倍数\n    maxScale: 3.375,\n    //  缩小最小倍数\n    minScale: 1,\n    //  当前选择类型  active样式\n    activeIndex: 0,\n    //  基础缩放倍数\n    scaleDef: 1.5\n  }\n  componentDidMount() {\n    \n  }\n  setScale = (type, activeIndex) => {\n    let { scale, maxScale, minScale, scaleDef } = this.state\n\n    this.setState({\n      activeIndex\n    })\n\n    this.props.setType('dragImg')\n\n    if (type === 'enlarge') {\n      if (scale >= maxScale) return\n      scale *= scaleDef\n    } else {\n      if (scale <= minScale) return\n      scale /= scaleDef\n    }\n\n    this.setState({\n      scale\n    }, () => {\n      this.props.setScale(scale)\n    })\n  }\n\n  initScale = () => {\n    this.setState({\n      scale: 1\n    })\n  }\n\n  setType = (type, activeIndex) => {\n    this.setState({\n      activeIndex\n    }, () => {\n      this.props.setType(type)\n    })\n  }\n\n  render() {\n    let { activeIndex } = this.state\n\n    return (\n      <div className=\"dataset_type_header clearfix\">\n       <span className=\"fl\">\n         请调节框的大小和位置确定标注区域，并在右侧添加或选择标签。\n       </span>\n       <span className=\"fr\">\n         <Icon className={activeIndex === 0 ? 'active' : ''} key={0} type=\"edit\" onClick={() => {\n           this.setType('paint', 0)\n         }} />\n         <Icon className={activeIndex === 1 ? 'active' : ''} key={1} type=\"drag\" onClick={() => {\n           this.setType('dragImg', 1)\n         }} />\n         <Icon className={activeIndex === 2 ? 'active' : ''} key={2} type=\"plus-circle\"  onClick={() => {\n           this.setScale('enlarge', 1)\n         }} />\n         <Icon className={activeIndex === 3 ? 'active' : ''} key={3} type=\"minus-circle\" onClick={() => {\n           this.setScale('narrow', 1)\n         }} />\n         {/* <Icon key={4} type=\"delete\" /> */}\n       </span>\n      </div>\n    )\n  }\n}\n\nexport default DatasetTypeHeader","//  事件绑定兼容\nconst addHandle = (dom, type, fn) => {\n  if (document.addEventListener) {\n    dom.addEventListener(type, fn, false)\n  } else if (document.attachEvent) {\n    dom.attachEvent('on' + type, fn)\n  } else {\n    let oldDomFun = dom['on' + type]\n    dom['on' + type] = function() {\n      oldDomFun()\n      fn && fn()\n    }\n  }\n}\n\n//  事件解绑\nconst removeHandle = (dom, type, fn) => {\n  if (document.removeEventListener) {\n    dom.removeEventListener(type, fn)\n  } else if (document.detachEvent) {\n    dom.detachEvent('on' + type, fn)\n  } else {\n    dom['on' + type] = null\n  }\n}\n\n//  获取元素相对于文档位置\nconst getEleOffsetTopLeft = (ele) => {\n  let current = ele.offsetParent\n  let actualTop = ele.offsetTop\n  let actualLeft = ele.offsetLeft\n\n  while(current !== null) {\n    actualLeft += current.offsetLeft\n    actualTop += current.offsetTop\n    current = current.offsetParent\n  }\n\n  return {\n    offsetLeft: actualLeft,\n    offsetTop: actualTop\n  }\n}\n\nconst deepClone = (source, dest) => {\n  if (!source && typeof source !== 'object') {\n    throw new Error('error arguments', 'shallowClone')\n  }\n  dest = dest || (source.constructor === Array ? [] : {})\n  for (const key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (source[key] && typeof source[key] === 'object') {\n        dest[key] = source[key].constructor === Array ? [] : {}\n        deepClone(source[key], dest[key])\n      } else {\n        dest[key] = source[key]\n      }\n    }\n  }\n  return dest\n}\n\nexport {\n  addHandle,\n  removeHandle,\n  getEleOffsetTopLeft,\n  deepClone\n}","import { addHandle, removeHandle, deepClone } from './util' // getEleOffsetTopLeft\n\nclass BaiduTagging {\n  constructor(opt) {\n    this.config = Object.assign({}, this.def, opt)\n\n    //  鼠标是否进入可以绘画元素\n    this.data = {\n      isEnterWrapper: false,\n      //  绘画最大宽高\n      maxWidth: 0,\n      maxHeight: 0,\n      //  是否可以绘画\n      isCanDraw: false,\n      //  标签索引\n      tagIndex: 0,\n      //  绘画记录数量\n      tagIndexObj: {},\n      //  记录鼠标按下左键位置坐标\n      clickPos: {\n        x: 0,\n        y: 0\n      },\n      //  鼠标是否进入已经绘画的任何一个标签\n      mouseIsEnterDrawedTag: false,\n      //  已经绘画标签是否可以拖拽\n      drawedTagIsCanDrag: false,\n      //  标签拖拽起点位置（即鼠标点击位置）\n      tagClickPos: {\n        x: 0,\n        y: 0,\n        top: 0,\n        left: 0\n      },\n      //  当前选中标签索引\n      selectTagIndex: 0,\n      //  标签圆点点击是否可以拖拽\n      tagIsCanScale: false,\n      //  圆点点击记录位置\n      circleClickPos: {\n        x: 0,\n        y: 0,\n        xmin: 0,\n        ymin: 0,\n        xmax: 0,\n        ymax: 0,\n        funcKey: ''\n      },\n      //  圆点拖拽对应函数\n      circleDragFuncObj: {\n        circle_tag1: 'topLeft',\n        circle_tag2: 'topCenter',\n        circle_tag3: 'topRight',\n        circle_tag4: 'rightCenter',\n        circle_tag5: 'rightBottom',\n        circle_tag6: 'bottomCenter',\n        circle_tag7: 'bottomLeft',\n        circle_tag8: 'leftCenter'\n      },\n      //  是否在容器内点击  是否执行画完回调\n      isMouseClickInWrapper: false,\n      //  放大倍数\n      scale: 1,\n      //  记录上一次放大倍数\n      lastScale: 1,\n      //  选择类型   paint(绘画或者编辑修改)  dragImg(图片可以拖拽)\n      type: 'paint',\n      //  底图是否可以拖动\n      bgImgIsCanDrag: false,\n      scaleMultiple: 1.5\n    }\n\n    this.init()\n  }\n\n  def = {\n    data: [],             //  初始化渲染数据 [{xmin(起点坐标x), ymin(起点坐标y), xmax(终点坐标x), ymax(终点坐标y), tag_name(标签名字), color(标注区域边框颜色)}]\n    circleTagSize: 8,     //  标签圆点尺寸大小\n    borderWidth: 1,       //  标签边框大小\n    container: '.tagging_container',  //  初始化容器class 或者 id  需要带上.或者# \n    w: 700,           //  容器宽\n    h: 460,           //  容器高\n    borderColor: 'rgba(71, 118, 241, .6)',    // 绘画标注区域边框色 \n    bg: 'rgba(71, 118, 241, .4)',             // 绘画标注区域背景\n    tagTitleTips: '请在右侧选择或添加新标签',       //  标签默认提示语\n    img: '',                                     //  标注底图图片\n    //  标注区域绘制 拖拽 缩放等变化回调\n    drawEndCallback: (data, w, h) => {\n      console.log('draw end', data, w, h)\n    },\n    imgOnload(imgW, imgH, curImgW, curImgH) {\n      console.log('图片加载完成', imgW, imgH, curImgW, curImgH)\n    }\n  }\n  \n  init() {\n    //  图片不存在\n    if (!this.config.img) return\n\n    // 初始化容器样式\n    this.initContainerStyle()\n\n    //  适配背景图片\n    this.createBgImg()\n\n    //  加载对应样式\n    this.loadStyle()\n\n    //  绑定事件\n    this.bindEvt()\n  }\n\n  // 初始化容器样式\n  initContainerStyle() {\n    this.config.container = document.querySelector(this.config.container)\n    let { container, w, h } = this.config\n    container.style.width = w + 'px'\n    container.style.height = h + 'px'\n    container.style.position = 'relative'\n    container.style.overflow = 'hidden'\n  } \n\n  createBgImg() {\n    let main = document.createElement('div')\n    let wrapper = document.createElement('div')\n    let img = document.createElement('img')\n    let scale = this.config.w / this.config.h\n    let width = 0\n    let height = 0\n\n    main.className = 'tagging_main'\n    wrapper.className = 'tagging_wrapper'\n    this.config.wrapper = wrapper\n    this.config.main = main\n    img.className = 'tagging_bg_img'\n    img.src = this.config.img\n    this.config.bgImg = img\n\n    img.onload = () => {\n      let imgW = img.width\n      let imgH = img.height\n      let imgScale = imgW / imgH\n\n      // if (imgW <= this.config.w && imgH <= this.config.h) {\n      //   width = imgW\n      //   height = imgH\n\n      //   // if (imgScale >= 1) {\n      //   //   width = this.config.w\n      //   //   height = imgH * (width / imgW)\n      //   //   console.log(width, height)\n      //   // } else {\n      //   //   height = this.config.h\n      //   //   width = height * imgScale\n      //   // }\n      // }\n      // else \n      if (imgScale >= scale) {\n        width = this.config.w\n        height = width * (imgH / imgW)\n      }\n      else {\n        height = this.config.h\n        width = height * imgScale\n      }\n\n      width = parseFloat(width)\n      height = parseFloat(height)\n      this.data.maxWidth = width\n      this.data.maxHeight = height\n\n      img.style.width = width + 'px'\n      img.style.height = height + 'px'\n      img.style.position = 'absolute'\n      let left = (this.config.w - width) / 2\n      let top = (this.config.h - height) / 2\n      img.style.top = top + 'px'\n      img.style.left = left + 'px'\n\n      main.style.width = width + 'px'\n      main.style.height = height + 'px'\n      main.style.position = 'absolute'\n      main.style.top = top + 'px'\n      main.style.left = left + 'px'\n\n      wrapper.style.width = '100%'\n      wrapper.style.height = '100%'\n      wrapper.style.position = 'relative'\n      //  console.log(imgScale)\n      //  图片加载完成回调\n      this.config.imgOnload(imgW, imgH, width, height)\n      //  缓存图片当前尺寸以及原图大小\n      this.config.currentImgWidth = width\n      this.config.currentImgHeight = height\n      this.config.imgW = imgW\n      this.config.imgH = imgH\n      //  记录图片初始化相对于容器定位\n      this.config.bgImgStartX = left / width\n      this.config.bgImgStartY = top / height\n\n      //  初始化渲染标签\n      this.initTags(imgW, imgH, width, height)\n    }\n    main.appendChild(wrapper)\n    this.config.container.appendChild(img)\n    this.config.container.appendChild(main)\n  }\n\n  bindEvt() {\n    //  console.log(this.config.wrapper)\n    let wrapper = this.config.wrapper\n    let container = this.config.container\n\n    //  可标注容器元素鼠标移入事件\n    addHandle(wrapper, 'mouseover', this.wrapperMouseOver.bind(this))\n\n    //  可标注容器元素鼠标移出事件\n    addHandle(wrapper, 'mouseleave', this.wrapperMouseLeave.bind(this))\n\n    // //  可标注容器元素鼠标左键点击事件\n    addHandle(wrapper, 'mousedown', this.wrapperMouseDown.bind(this))\n\n    // //  可标注容器元素鼠标左键弹起事件\n    addHandle(wrapper, 'mouseup', this.wrapperMouseUp.bind(this))\n\n    // //  可标注容器元素鼠标移动事件\n    addHandle(wrapper, 'mousemove', this.wrapperMouseMove.bind(this))\n\n    //  document 鼠标弹起事件\n    addHandle(document, 'mouseup', this.documentMouseUp.bind(this))\n  }\n\n  //  设置缩放比例\n  setScale(scale) {\n    this.data.scale = scale\n    let { currentImgWidth, currentImgHeight } = this.config\n    if (!currentImgWidth || !currentImgHeight) return\n\n    let scaleNum = this.data.scale / this.data.lastScale\n    let w = currentImgWidth * scaleNum\n    let h = currentImgHeight * scaleNum\n\n    this.setBgImgSize(w, h)\n    this.setBgImgMainPos(w, h, scaleNum)\n    this.data.lastScale = this.data.scale\n  }\n\n  //  设置绘画类型   dragImg（放大或者缩小） paint（绘制标注区域，以及标注区域可以拖拽缩放等） \n  setType(type) {\n    this.data.type = type\n    let wrapper = this.config.wrapper\n\n    if (type === 'dragImg') {\n      wrapper.classList.remove('paint')\n      wrapper.classList.add('dragImg')\n    } else {\n      wrapper.classList.remove('dragImg')\n      wrapper.classList.add('paint')\n    }\n  }\n\n  //  body click\n  documentMouseUp() {\n    // console.log('document mouse up')\n    this.data.isMouseClickInWrapper = false\n  }\n\n  //  可标注容器元素鼠标移入事件\n  wrapperMouseOver(e) {\n    let target = e.target\n    let className = target.className\n    //  console.log('mouse over 冒泡')\n\n    //  鼠标移入可编辑容器元素\n    if (target === this.config.wrapper) {\n      //  console.log('mouse over wrapper')\n      this.data.isEnterWrapper = true\n\n      //  如果是鼠标是从标签元素移出 进入到wrapper元素\n      if (this.data.mouseIsEnterDrawedTag) {\n        //  console.log('mouse leave tag')\n        this.data.mouseIsEnterDrawedTag = false\n      }\n    }\n\n    //  鼠标移入标签\n    if (className.indexOf('tag_draw_end') > -1) {\n      //  console.log('mouse over tag')\n      //  鼠标移入绘画标签\n      this.mouseEnterDrawedTag()\n    }\n    \n  }\n\n  //  可标注容器元素鼠标移出事件\n  wrapperMouseLeave() {\n    //  console.log('wrapper mouse leave')\n    if (this.data.type === 'dragImg') {\n      this.data.bgImgIsCanDrag = false\n      return\n    }\n    this.data.isEnterWrapper = false\n    this.data.isCanDraw = false\n\n    //  标签绘画完毕\n    this.tagDrawEnd() \n  }\n\n  //  可标注容器元素鼠标左键按下事件\n  wrapperMouseDown(e) {\n    // console.log('wrapperMouseDown')\n    // if (!this.isEnterWrapper) return\n    let target = e.target\n    let className = target.className\n    this.data.isMouseClickInWrapper = true\n\n    let pageX = e.pageX\n    let pageY = e.pageY\n    let startX = e.offsetX\n    let startY = e.offsetY\n\n    this.data.clickPos = {pageX, pageY, startX, startY}\n\n    //  放大缩小 底图拖动  画布锁定\n    if (this.data.type === 'dragImg') {\n      // 没有放大则不允许拖拽底图\n      if (this.data.scale === 1) return\n\n      this.data.bgImgIsCanDrag = true\n      let bgImg = this.config.bgImg\n\n      let top = parseFloat(bgImg.style.top)\n      let left = parseFloat(bgImg.style.left)\n      this.data.clickPos.bmImgTop = top\n      this.data.clickPos.bmImgLeft = left\n      return\n    }\n\n    //  绘画标签\n    if (target === this.config.wrapper) {\n      console.log('draw tag')\n      //  let offsetEl = getEleOffsetTopLeft(this.config.wrapper)\n      //  console.log('click', startObj)\n      this.data.isCanDraw = true\n      this.data.tagIndex ++\n    }\n\n    //  标签点击\n    if (className.indexOf('tag_draw_end') > -1) {\n      this.drawedTagMouseDown(e)\n    }\n\n    //  标签圆点点击\n    if (className.indexOf('circle_tag') > -1) {\n      console.log('tag circle click')\n      this.tagCircleMouseDown(e)\n    }\n\n    //  标签删除按钮\n    if (className.indexOf('tag_title_delete') > -1) {\n      console.log('tag remove')\n      //  标签删除\n      this.removeBtnClick(e)\n    }\n  }\n\n  //  可标注容器元素鼠标左键弹起事件\n  wrapperMouseUp(e) {\n    if (this.data.type === 'dragImg') {\n      this.data.bgImgIsCanDrag = false\n      return\n    }\n    //  console.log('wrapper mouse up')\n    this.data.isCanDraw = false\n\n    //  标签绘画完毕\n    this.tagDrawEnd()\n  }\n\n  //  可标注容器绘画移动\n  wrapperMouseMove(e) {\n    //  console.log('isCanDraw', this.data.isCanDraw)\n    //  放大缩小 底图拖动  画布锁定\n    if (this.data.type === 'dragImg') {\n      this.bgImgDrag(e)\n      return\n    }\n\n    //  标签拖拽\n    this.mouseMoveDragTag(e)\n\n    //  对应标签圆点鼠标移动事件 标签拖放\n    this.tagCircleMouseMove(e)\n\n    //  标签创建绘画\n    if (!this.data.isCanDraw || this.data.mouseIsEnterDrawedTag || this.data.drawedTagIsCanDrag) return\n\n    //  绘制标签\n    this.drawTagging(e)\n  }\n\n  //  底图拖动\n  bgImgDrag(e) {\n    if (!this.data.bgImgIsCanDrag) return\n\n    let { pageX, pageY, bmImgTop, bmImgLeft } = this.data.clickPos\n    let x = e.pageX - pageX + bmImgLeft\n    let y = e.pageY - pageY + bmImgTop\n\n    //  边界判断\n    let { currentImgWidth, currentImgHeight, w, h } = this.config\n    let maxLeft = w - currentImgWidth\n    let maxTop = h - currentImgHeight\n    x = x > 0 ? 0 : (x < maxLeft ? maxLeft : x)\n    y = y > 0 ? 0 : (y < maxTop ? maxTop : y)\n\n    //  图片放大或者缩小  宽或高小于容器宽或高\n    if (currentImgWidth < w) {\n      x = bmImgLeft\n    }\n\n    if (currentImgHeight < h) {\n      y = bmImgTop\n    }\n    \n    // if (currentImgWidth < w) {\n    //   x = (w - currentImgWidth) / 2\n    // }\n\n    // if (currentImgHeight < h) {\n    //   y = (h - currentImgHeight) / 2\n    // }\n    \n    this.setBgImgMainPosStyle(y, x)\n  }\n\n  //  绘图 标签蒙层\n  drawTagging(e) {\n    let { pageX, pageY, startX, startY } = this.data.clickPos\n    let w = e.pageX - pageX\n    let h = e.pageY - pageY\n    let tag = this.getCurrentTag()\n\n    //  标签不存在则添加标签dom\n    tag = tag ? tag : this.addTagDom({})\n\n    //  相对于标签元素起始点位置\n    let obj = {\n      xmin: 0,\n      ymin: 0,\n      xmax: 0,\n      ymax: 0\n    }\n\n    //  右下\n    if (w > 0 && h > 0) {\n      obj = {\n        xmin: startX,\n        ymin: startY,\n        xmax: startX + w,\n        ymax: startY + h\n      }\n    }\n    //  右上\n    else if (w > 0 && h< 0) {\n      obj = {\n        xmin: startX,\n        ymin: startY + h,\n        xmax: startX + w,\n        ymax: startY\n      }\n    }\n    //  左上\n    else if (w < 0 && h < 0) {\n      obj = {\n        xmin: startX + w,\n        ymin: startY + h,\n        xmax: startX,\n        ymax: startY\n      }\n    }\n    //  左下\n    else if (w < 0 && h > 0) {\n      obj = {\n        xmin: startX + w,\n        ymin: startY,\n        xmax: startX,\n        ymax: startY + h\n      }\n    }\n\n    w = Math.abs(w)\n    h = Math.abs(h)\n  \n    //  标签圆点尺寸\n    let circleTagSize = this.config.circleTagSize / 2\n    //  起点位置是否边界判断加上圆点标签\n    obj.xmin = obj.xmin < circleTagSize ? circleTagSize : obj.xmin\n    obj.ymin = obj.ymin < circleTagSize ? circleTagSize : obj.ymin\n\n    //  终点位置去除圆点标签\n    obj.ymax -= circleTagSize\n    obj.xmax -= circleTagSize\n\n    w = obj.xmax - obj.xmin - this.config.borderWidth\n    h = obj.ymax - obj.ymin - this.config.borderWidth\n\n    //  画完缓存数据\n    // obj.tagIndexId = this.data.tagIndex\n    // this.data.tagIndexObj[this.data.tagIndex] = obj\n    this.storageCurTagData(this.data.tagIndex, obj.ymin, obj.xmin, w, h)\n\n    //  设置标签大小\n    let sizeObj = this.getPercentNum(w, h)\n    this.setTagSize(tag, sizeObj.left, sizeObj.top)\n    //  设置标签位置\n    let { left, top } = this.getPercentNum(obj.xmin, obj.ymin)\n    this.setTagPos(tag, top, left)\n\n    //  设置标签边框颜色等\n    this.setTagBgBorder(tag)\n  }\n\n  //  缓存标注区域数据\n  storageCurTagData(tagIndex, top, left, w, h) {\n    let { currentImgWidth, currentImgHeight } = this.config\n    top = top / currentImgHeight\n    left = left / currentImgWidth\n    w = w / currentImgWidth\n    h = h / currentImgHeight\n    \n    let obj = {\n      xmin: left,\n      ymin: top,\n      xmax: left + w,\n      ymax: top + h\n    }\n    if (tagIndex) {\n      obj.tagIndexId = tagIndex\n    }\n    this.data.tagIndexObj[tagIndex] = obj\n  }\n\n  //  添加标签dom\n  addTagDom(tagObj) {\n    if (this.data.tagIndexObj[this.data.tagIndex]) return\n\n    let tag = document.createElement('div')\n    let tagClassName = 'tag tag' + this.data.tagIndex\n\n    tag.className = tagClassName\n    tag.setAttribute('tag_index', this.data.tagIndex)\n    this.config.wrapper.appendChild(tag)\n    this.data.tagIndexObj[this.data.tagIndex] = tagObj\n\n    return tag\n  }\n\n  //  标签绘画完毕\n  tagDrawEnd() {\n    //  标签禁止拖拽\n    this.data.mouseIsEnterDrawedTag = false\n    this.data.drawedTagIsCanDrag = false\n    //  标签禁止拖放\n    this.data.tagIsCanScale = false\n\n    let tag = this.getCurrentTag()\n    if (tag) {\n      //  绘画距离小于圆点尺寸则不绘画\n      if (!this.drawSizeTooMinCancel(tag)) return\n\n      //  添加标签、标签文案title\n      this.addCircleTitle(tag)\n    \n      //  绘画完标签添加class状态标记\n      this.currentTagDrawEndAddClass(tag)\n    }\n    \n    //  画完回调\n    let currentTag = this.getCurrentTag() || this.getCurrentTag(this.data.selectTagIndex)\n    if (!currentTag || !this.data.isMouseClickInWrapper) return\n    \n    let drawData = this.data.tagIndexObj[this.data.selectTagIndex] || {}\n    this.data.isMouseClickInWrapper = false\n    if (!Object.keys(drawData).length) return\n\n    this.config.drawEndCallback(deepClone(drawData), this.config.imgW, this.config.imgH)\n    console.log('tag draw end', this.data.selectTagIndex, drawData)\n  }\n\n  //  设置标签位置\n  setTagPos(tag, top, left) {\n    tag.style.top = top * 100  + '%'\n    tag.style.left = left * 100 + '%'\n  }\n\n  //  设置标签大小\n  setTagSize(tag, w, h) {\n    tag.style.width = w * 100 + '%'\n    tag.style.height = h * 100 + '%'\n  }\n\n  //  换算 小数点数值\n  getPercentNum(left, top) {\n    let { currentImgWidth, currentImgHeight } = this.config\n    let obj = {\n      left: left / currentImgWidth,\n      top: top / currentImgHeight\n    }\n    return obj\n  }\n\n  //  设置底图大小\n  setBgImgSize(w, h) {\n    let { main, bgImg } = this.config\n    \n    bgImg.style.width = w + 'px'\n    bgImg.style.height = h + 'px'\n    main.style.width = w + 'px'\n    main.style.height = h + 'px'\n\n    this.config.lastCurrentImgWidth = this.config.currentImgWidth\n    this.config.lastCurrentImgHeight = this.config.currentImgHeight\n    this.config.currentImgWidth = w\n    this.config.currentImgHeight = h\n  }\n\n  //  设置底图以及绘制区域定位坐标\n  setBgImgMainPos() {\n    let centralPoint = {\n      x: this.config.w / 2,\n      y: this.config.h / 2\n    }\n    \n    let scaleNum = this.data.scale / this.data.lastScale\n    let { top, left } = this.scaleCalculationImgPos(centralPoint, scaleNum)\n\n    // console.log('setBgImgMainPos scale', scaleNum)\n\n    this.setBgImgMainPosStyle(top, left)\n  }\n\n  //  设置底图位置  样式\n  setBgImgMainPosStyle(top, left) {\n    let { main, bgImg } = this.config\n\n    bgImg.style.top = top + 'px'\n    bgImg.style.left = left + 'px'\n    main.style.top = top + 'px'\n    main.style.left = left + 'px'\n  }\n\n  //  放大缩小设置图片坐标\n  scaleCalculationImgPos(centralPoint, scaleNum) {\n    let { x, y } = centralPoint\n    let { main } = this.config\n    let styleTop = parseFloat(main.style.top)\n    let styleLeft = parseFloat(main.style.left)\n    let left = x - (x - styleLeft) * scaleNum\n    let top = y - (y - styleTop) * scaleNum\n    let { currentImgWidth, currentImgHeight, w, h } = this.config\n\n    //  缩小\n    if (scaleNum < 1) {\n      let maxLeft = w - currentImgWidth\n      let maxTop = h - currentImgHeight\n      left = left > 0 ? 0 : (left < maxLeft ? maxLeft : left)\n      top = top > 0 ? 0 : (top < maxTop ? maxTop : top)\n\n      if (currentImgWidth < w) {\n        left = (w - currentImgWidth) / 2\n      }\n\n      if (currentImgHeight < h) {\n        top = (h - currentImgHeight) / 2\n      }\n    }\n\n    return {top , left}\n  }\n\n  //  缩小\n  bgImgNarrow(top, left, scaleNum) {}\n\n  //  27 需要9的3次方  ===> 3\n  mathLog(x, y){\n    var logx = Math.log(x)\n    var logy = Math.log(y)\n    return Math.floor(logx / logy)\n  }\n\n  //  设置标签边框颜色等\n  setTagBgBorder(tag, color) {\n    let borderColor = color ? `rgba(${color}, .6)` : this.config.borderColor\n    let bgColor = color ? `rgba(${color}, .4)` : this.config.bg\n    tag.style.border = borderColor\n    tag.style.background = bgColor\n  }\n\n  //  设置标签颜色\n  setTagColor(tag, borderColor, bgColor) {\n    this.config.borderColor = borderColor\n    this.config.bg = bgColor\n    //  设置标签边框颜色等\n    this.setTagBgBorder(tag)\n  }\n\n  //  绘画完标签添加class状态标记\n  currentTagDrawEndAddClass(tag) {\n    let tagClassName = tag.className\n\n    if (tagClassName.indexOf('tag_draw_end') === -1) {\n      tag.classList.add('tag_draw_end')\n    }\n  }\n\n  //  绘画距离小于圆点尺寸则不绘画\n  drawSizeTooMinCancel(tag) {\n    //  let tag = this.getCurrentTag()\n    //  距离很小不绘画\n    let minDistance = this.config.circleTagSize\n    let item = this.data.tagIndexObj[this.data.tagIndex]\n\n    //  标签不存在\n    //  if (!tag) return\n\n     //  绘画距离宽高小于圆点距离 也不绘画\n     let { xmin, xmax, ymin, ymax } = item\n     let { currentImgWidth, currentImgHieght } = this.config\n \n     if (xmax - xmin < minDistance / currentImgWidth || ymax - ymin < minDistance / currentImgHieght) {\n       console.log('小于必须尺寸')\n      tag.parentNode.removeChild(tag)\n      this.data.tagIndexObj[this.data.tagIndex] = null\n      this.data.tagIndex --\n      //  画完设置默认选中标签\n      //  this.data.selectTagIndex = this.data.tagIndex\n      return false\n     }\n\n     //  画完设置默认选中标签\n     // this.data.selectTagIndex = this.data.tagIndex\n     return true\n  }\n\n  //  获取当前标签\n  getCurrentTag(tagIndex) {\n    tagIndex = tagIndex || this.data.tagIndex\n    let className = '.tag' + tagIndex\n    return this.config.wrapper.querySelector(className)\n  }\n\n  //  加载对应样式\n  loadStyle() {\n    let style = document.querySelector('.tag_style')\n\n    if (!style) {\n      style = document.createElement('style')\n      style.className = 'tag_style'\n    }\n\n    let circleTagSize = this.config.circleTagSize\n    let distance = circleTagSize / 2\n\n    let styleStr = `\n      .circle_tag {\n        width: ${circleTagSize}px;\n        height: ${circleTagSize}px;\n        border-radius: 100%;\n        background: #fff;\n        position: absolute;\n        display: none;\n      }\n      .circle_tag1 {\n        top: 0;\n        left: 0;\n        margin-left: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_tag1:hover {\n        cursor: nw-resize;\n      }\n      .circle_tag2 {\n        top: 0;\n        left: 50%;\n        margin-left: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_tag2:hover {\n        cursor: n-resize;\n      }\n      .circle_tag3 {\n        top: 0;\n        right: 0;\n        margin-right: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_tag3:hover {\n        cursor: ne-resize;\n      }\n      .circle_tag4 {\n        top: 50%;\n        right: 0;\n        margin-right: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_tag4:hover {\n        cursor: e-resize;\n      }\n      .circle_tag5 {\n        bottom: 0;\n        right: 0;\n        margin-right: -${distance}px;\n        margin-bottom: -${distance}px;\n      }\n      .circle_tag5:hover {\n        cursor: se-resize;\n      }\n      .circle_tag6 {\n        bottom: 0;\n        right: 50%;\n        margin-right: -${distance}px;\n        margin-bottom: -${distance}px;\n      }\n      .circle_tag6:hover {\n        cursor: s-resize;\n      }\n      .circle_tag7 {\n        bottom: 0;\n        left: 0;\n        margin-left: -${distance}px;\n        margin-bottom: -${distance}px;\n      }\n      .circle_tag7:hover {\n        cursor: sw-resize;\n      }\n      .circle_tag8 {\n        top: 50%;\n        left: 0;\n        margin-left: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_tag8:hover {\n        cursor: w-resize;\n      }\n      .tagging_wrapper {\n        overflow: hidden;\n      }\n      .dragImg.tagging_wrapper:hover {\n        cursor: grab;\n      }\n      .tagging_wrapper .tag.active .circle_tag{\n        display: block;\n      }\n      .tagging_wrapper.dragImg .tag.active .circle_tag{\n        display: none;\n      }\n      .tagging_wrapper.paint .tag.active .circle_tag{\n        display: block;\n      }\n      .tagging_wrapper .tag:hover {\n        cursor: move;\n      }\n      .tagging_wrapper.dragImg .tag:hover {\n        cursor: grab;\n      }\n      .tagging_bg_img{\n        display: block;\n        user-select: none;\n      }\n      .tag_title_container {\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        white-space: nowrap;\n        display: none;\n      }\n      .tag_title_wrapper {\n        padding: 0 10px;\n        box-sizing: border-box;\n        height: 30px;\n        line-height: 30px;\n        background-color: hsla(0,0%,100%,.6);\n        font-size: 12px;\n        color: #333;\n      }\n      .tag_title_delete {\n        cursor: pointer;\n      }\n      .tagging_wrapper .tag.active .tag_title_container {\n        display: block;\n      }\n      .tagging_wrapper.dragImg .tag.active .tag_title_container{\n        display: none;\n      }\n      .tagging_wrapper.dragImg .tag.active {\n        border: 1px solid red !important;\n      }\n      .tagging_wrapper.paint .tag.active .tag_title_container{\n        display: block;\n      }\n      .tagging_wrapper .tag {\n        position: absolute;\n      }\n      .tagging_wrapper:hover {\n        cursor: crosshair;\n      }\n    `\n\n    style.innerHTML = styleStr\n    document.querySelector('head').appendChild(style)\n  }\n\n  // 添加可以编辑标签大小圆点\n  addCircleTitle(tag, isInit, tagTitle) {\n    //  let tag = this.getCurrentTag()\n    let max = 8\n    let item = this.data.tagIndexObj[this.data.tagIndex]\n\n    if (item && item.hasCircleTagTitle) return\n\n    //  当前没有画标签\n    //  if (!tag) return\n\n    //  if (item && !item.hasCircleTagTitle) {\n      let tagContent = ''\n      //  添加标签拖拽圆点\n      for(let i = 0; i < max; i++) {\n        tagContent += '<span class=\"circle_tag circle_tag'+ (i + 1) +'\" func=\"circle_tag'+ (i + 1) +'\"></span>'\n      }\n\n      //  添加标签title\n      let icon = '删除'\n      tagContent += `\n        <div class=\"tag_title_container\">\n          <div class=\"tag_title_wrapper\">\n            <span class=\"tag_title_delete\" tag_index=${this.data.tagIndex}>\n              ${icon}\n            </span>\n            <span class=\"tag_title_text\">${tagTitle || this.config.tagTitleTips}</span>\n          </div>\n        </div>\n      `\n      tag.innerHTML = tagContent\n      item.hasCircleTagTitle = true\n    //  }\n    \n    //  后端返回数据绘画标签圆点以及title，则不需要显示圆点以及title\n    if (!isInit) {\n      //  当前标签添加class active显示圆点\n      this.currentTagShowCircle()\n\n      //  每次画完标签设置为选中状态\n      let activeTag = this.config.wrapper.querySelector('.tag.active')\n      this.data.selectTagIndex = activeTag.getAttribute('tag_index')\n    }\n  }\n\n  //  标签删除按钮\n  removeBtnClick(e) {\n    let target = e.target\n    let tagIndex = target.getAttribute('tag_index')\n     //  标签删除\n    this.removeTag(tagIndex)\n  }\n\n  //  标签删除\n  removeTag(tagIndex) {\n    let tag = this.getCurrentTag(tagIndex)\n    tag.parentNode.removeChild(tag)\n    this.data.tagIndexObj[tagIndex] = null\n    this.data.selectTagIndex = 0\n\n    console.log('remove tagIndex', tagIndex, this.data.drawedTagIsCanDrag)\n  }\n\n  //  当前标签添加class active显示圆点\n  currentTagShowCircle(tagIndex) {\n    let activeTag = this.config.wrapper.querySelector('.tag.active') \n    let currentTag = this.getCurrentTag(tagIndex)\n\n    if (activeTag) {\n      activeTag.classList.remove('active')\n    }\n\n    if(currentTag) {\n      currentTag.classList.add('active')\n    }\n  }\n\n  //  鼠标进入绘画标签\n  mouseEnterDrawedTag() {\n    //  如果点击是父元素绘画标签进入已经绘画标签 则退出\n    if (this.data.isCanDraw) return\n\n    this.data.mouseIsEnterDrawedTag = true\n  }\n\n  //  鼠标离开绘画标签\n  mouseLeaveDrawedTag() {\n    this.data.mouseIsEnterDrawedTag = false\n    //  this.data.drawedTagIsCanDrag = false\n  }\n\n  //  已经绘画标签点击事件\n  drawedTagMouseDown(e) {\n    //  e.stopPropagation()\n    this.data.drawedTagIsCanDrag = true\n\n    let target = e.target\n    let tagIndex = target.getAttribute('tag_index')\n    this.data.selectTagIndex = tagIndex\n    console.log('tag click', tagIndex)\n\n    let x = e.pageX\n    let y = e.pageY\n    let { xmin, ymin, xmax, ymax } = this.data.tagIndexObj[tagIndex]\n\n    this.data.tagClickPos = { x, y, xmin, ymin, xmax, ymax }\n\n    //  当前标签添加class active显示圆点\n    this.currentTagShowCircle(tagIndex)\n  }\n\n  //  已经绘画标签鼠标弹起事件\n  drawedTagMouseUp() {\n    this.data.drawedTagIsCanDrag = false\n  }\n\n  //  标签拖拽\n  mouseMoveDragTag(e) {\n    //  console.log('tag drag', this.data.drawedTagIsCanDrag)\n    if (!this.data.drawedTagIsCanDrag) return\n\n    let { x, y, xmin, ymin, xmax, ymax } = this.data.tagClickPos\n    \n    //  鼠标移动距离计算\n    let { left, top } = this.getPercentNum(e.pageX - x, e.pageY - y)\n\n    //  记录标签定位位置 top left\n    let _left = left + xmin\n    let _top = top + ymin\n\n    let selectTagIndex = this.data.selectTagIndex\n    let item = this.data.tagIndexObj[selectTagIndex]\n    item.xmin = _left\n    item.ymin = _top\n    item.xmax = left + xmax\n    item.ymax = top + ymax\n\n    // console.log('拖拽后', item.xmin, item.ymin)\n    // this.data.tagIndexObj[selectTagIndex] = item\n\n    let tag = this.getCurrentTag(selectTagIndex)\n\n    //  设置标签位置\n    this.setTagPos(tag, _top, _left)\n  }\n\n  //  对应标签圆点鼠标点击事件\n  tagCircleMouseDown(e) {\n    //  e.stopPropagation()\n    this.data.tagIsCanScale = true\n    let target = e.target\n    let selectTagIndex = target.parentNode.getAttribute('tag_index')\n    this.data.selectTagIndex = selectTagIndex\n    // let selectTagIndex = this.data.selectTagIndex\n\n    let funcKey = target.getAttribute('func')\n\n    //  执行对应函数  计算标签宽高 位置\n    funcKey = this.data.circleDragFuncObj[funcKey] + 'MoveFunc'\n\n    //  console.log('tag circle mouse down', selectTagIndex)\n    let { xmin, ymin, xmax, ymax } = this.data.tagIndexObj[selectTagIndex]\n    let x = e.pageX\n    let y = e.pageY\n    // console.log('tagCircleMouseDown', xmaxPercent, ymaxPercent)\n    this.data.circleClickPos = { x, y, funcKey, xmin, ymin, xmax, ymax }\n  }\n\n  //  对应标签圆点鼠标松开事件\n  tagCircleMouseUp(e) {\n    this.data.tagIsCanScale = false\n  }\n\n  //  对应标签圆点鼠标移动事件\n  tagCircleMouseMove(e) {\n    if (!this.data.tagIsCanScale) return\n    //  console.log('tag circle mouse move', circle)\n\n    let { x, y, funcKey, xmin, ymin, xmax, ymax } = this.data.circleClickPos\n    let _x = e.pageX - x\n    let _y = e.pageY - y\n    \n    \n    //  console.log('funcKey', funcKey)\n    //  this[funcKey](_x, _y, xmin, ymin, xmax, ymax)\n    this.tagChageSize(_x, _y, funcKey, xmin, ymin, xmax, ymax)\n  }\n\n  //  标签圆点拖拽改变尺寸\n  tagChageSize(moveX, moveY, funcKey, xmin, ymin, xmax, ymax) {\n    let min = this.config.circleTagSize\n    let selectTagIndex = this.data.selectTagIndex\n    let item = this.data.tagIndexObj[selectTagIndex]\n    let tag = this.getCurrentTag(selectTagIndex)\n    let { top, left } = this.getPercentNum(moveX, moveY)\n    let minW = min / this.config.currentImgWidth\n    let minH = min / this.config.currentImgHeight\n    \n    switch(funcKey) {\n      //  圆点左上\n      case 'topLeftMoveFunc':\n        xmin += left\n        ymin += top\n\n        //  拖拽宽高任何一个小于16px则为16px\n        if (xmax - xmin < minW) {\n          xmin = xmax - minW\n        }\n\n        if (ymax - ymin <= minH) {\n          ymin = ymax - minH\n        }\n\n        item.xmin = xmin\n        item.ymin = ymin\n        break;\n      \n      //  圆点上中\n      case 'topCenterMoveFunc':\n        ymin += top\n      \n        //  拖拽宽高任何一个小于16px则为16px\n        if (ymax - ymin < minH) {\n          ymin = ymax - minH\n        }\n\n        item.ymin = ymin\n        break;\n      \n      // //  圆点上右\n      case 'topRightMoveFunc':\n        ymin += top\n        xmax += left\n        \n        //  拖拽宽高任何一个小于16px则为16px\n        if (xmax - xmin <= minW) {\n          xmax = xmin + minW\n        }\n    \n        if (ymax - ymin < minH) {\n          ymin = ymax - minH\n        }\n\n        item.ymin = ymin\n        item.xmax = xmax\n        break;\n\n      //  圆点右中\n      case 'rightCenterMoveFunc':\n        xmax += left\n      \n        //  拖拽宽高任何一个小于16px则为16px\n        if (xmax - xmin <= minW) {\n          xmax = xmin + minW\n        }\n    \n        item.xmax = xmax\n        break;\n      \n      //  圆点右下\n      case 'rightBottomMoveFunc':\n        xmax += left\n        ymax += top\n        \n        //  拖拽宽高任何一个小于16px则为16px\n        if (xmax - xmin <= minW) {\n          xmax = xmin + minW\n        }\n    \n        if (ymax - ymin < minH) {\n          ymax = ymin + minH\n        }\n    \n        item.xmax = xmax\n        item.ymax = ymax\n        break;\n\n      //  圆点下中\n      case 'bottomCenterMoveFunc':\n        ymax += top\n      \n        //  拖拽宽高任何一个小于16px则为16px\n        if (ymax - ymin < minH) {\n          ymax = ymin + minH\n        }\n    \n        item.ymax = ymax\n        break;\n\n      //  圆点左下\n      case 'bottomLeftMoveFunc':\n        xmin += left\n        ymax += top\n        \n        //  拖拽宽高任何一个小于16px则为16px\n        if (xmax - xmin <= minW) {\n          xmin = xmax - minW\n        }\n    \n        if (ymax - ymin < minH) {\n          ymax = ymin + minH\n        }\n    \n        item.xmin = xmin\n        item.ymax = ymax\n        break;\n\n      //  圆点左中\n      case 'leftCenterMoveFunc':\n        xmin += left\n      \n        //  拖拽宽高任何一个小于16px则为16px\n        if (xmax - xmin <= minW) {\n          xmin = xmax - minW\n        }\n    \n        item.xmin = xmin\n        break;\n\n      default:\n        break;\n    }\n\n    //  设置宽高\n    let w = xmax - xmin\n    let h = ymax - ymin\n\n    //  设置标签位置\n    this.setTagPos(tag, ymin, xmin)\n    //  设置标签大小\n    this.setTagSize(tag, w, h)\n  }\n  \n  //  获取标签数据\n  getTagData() {\n    let obj = this.data.tagIndexObj\n    let keys = Object.keys(obj)\n    let arr = []\n    let len = keys.length\n\n    for (let i = 0; i < len; i++) {\n      let item = obj[keys[i]]\n      if (!item) {\n        continue\n      }\n      let { tag_name, tagIndexId, xmin, ymin, xmax, ymax } = item\n      arr.push({ xmin, ymin, xmax, ymax, tag_name, tagIndexId })\n    }\n    console.log('get data', arr)\n    return arr\n  }\n\n  //  获取图片原图当前尺寸以及原图大小\n  getImgInfo() {\n    return {\n      render_width: this.config.currentImgWidth,\n      render_height: this.config.currentImgHeight,\n      imgW: this.config.imgW,\n      imgH: this.config.imgH\n    }\n  }\n\n  //  设置选中标签title\n  setTagTitle(title, color, tag_id) {\n    let selectTagIndex = this.data.selectTagIndex\n\n    if (!selectTagIndex) return\n\n    let tag = this.getCurrentTag(selectTagIndex)\n    tag.querySelector('.tag_title_text').innerHTML = title\n\n    //  设置标签边框颜色等\n    this.setTagBgBorder(tag, color)\n\n    this.data.tagIndexObj[selectTagIndex].tag_name = title\n    this.data.tagIndexObj[selectTagIndex].tag_id = tag_id\n\n    //  设置标签颜色\n    //  this.setTagColor(tag, borderColor, bgColor)\n  }\n\n  //  初始化渲染标签\n  initTags() {\n    console.log('init tags')\n    let data = this.config.data\n    this.addTags(data)\n  }\n\n  //  添加标注区域\n  addTags(data) {\n    if (!data.length) return\n\n    data.forEach((item) => {\n      let tagIndexId = item.tagIndexId\n      this.data.tagIndex = tagIndexId ? tagIndexId : this.data.tagIndex + 1\n      //  添加标签dom\n      this.addTagDom(item)\n      let tag = this.getCurrentTag()\n      tag.classList.add('tag_draw_end')\n\n      let {xmin, ymin, xmax, ymax, tag_name, color} = item\n      let w = xmax - xmin\n      let h = ymax - ymin\n\n      item.tagIndexId = this.data.tagIndex\n\n      //  设置标签大小\n      this.setTagSize(tag, w, h, this.data.tagIndex)\n      //  设置标签边框颜色等\n      this.setTagBgBorder(tag, color)\n      //  设置标签位置\n      this.setTagPos(tag, ymin, xmin)\n      //  添加标签圆点以及标签名字\n      this.addCircleTitle(tag, true, tag_name)\n      //  回调\n      console.log('add tag draw end', item)\n      this.config.drawEndCallback(deepClone(item), this.config.imgW, this.config.imgH)\n    })\n  }\n\n  //  实例销毁\n  dispose() {\n    let container = this.config.container\n    let wrapper = this.config.wrapper\n\n    //  所有事件解绑\n    //  可标注容器元素鼠标移入事件\n    removeHandle(wrapper, 'mouseover', this.wrapperMouseOver)\n\n    //  可标注容器元素鼠标移出事件\n    removeHandle(wrapper, 'mouseleave', this.wrapperMouseLeave)\n\n    // //  可标注容器元素鼠标左键点击事件\n    removeHandle(wrapper, 'mousedown', this.wrapperMouseDown)\n\n    // //  可标注容器元素鼠标左键弹起事件\n    removeHandle(wrapper, 'mouseup', this.wrapperMouseUp)\n\n    // //  可标注容器元素鼠标移动事件\n    removeHandle(wrapper, 'mousemove', this.wrapperMouseMove)\n\n    //  删除dom元素\n    let img = container.querySelector('.tagging_bg_img')\n    let tagMain = container.querySelector('.tagging_main')\n    if (tagMain) {\n      tagMain.parentNode.removeChild(img)\n      tagMain.parentNode.removeChild(tagMain)\n    }\n  }\n}\n\nexport default BaiduTagging\n","import React from 'react'\nimport './index.less'\nimport DatasetTypeHeader from './components/DatasetTypeHeader'\nimport { Button } from 'antd'\nimport BaiduTagging from '@/components/BaiduTagging'\n\nclass DataSet extends React.PureComponent {\n  state = {\n    img: '',\n    type: 'paint',\n    scale: 1\n  }\n  componentDidMount() {\n    console.log(this.props)\n  }\n  \n  //  切换图片\n  switchImg = () => {\n    document.querySelector('.upload_img').click()\n  }\n  uploadImg = (e) => {\n    let file = e.target.files[0]\n    if (!file) return\n\n    \n    let reader = new FileReader()\n    reader.readAsDataURL(file)\n    reader.onload = (e) => {\n      let imgUrl = e.target.result\n\n      this.setState({\n        img: imgUrl\n      }, () => {\n        this.refs.datasetTypeHeader.initScale()\n        let opt = {\n          container: '.label-warp',\n          data: [\n            // {\n            //   tag_name: '测试1',\n            //   xmax: 0.4006967104682953,\n            //   xmin: 0.18288208836758094,\n            //   ymax: 0.5391304347826087,\n            //   ymin: 0.28043478260869564\n            // },\n            // {\n            //   tag_name: '测试2',\n            //   xmax: 0.9144104418379047,\n            //   xmin: 0.686321545109798,\n            //   ymax: 0.7782608695652173,\n            //   ymin: 0.3673913043478261\n            // }\n          ],\n          w: 700,\n          h: 460,\n          img: imgUrl\n        }\n  \n        this.initBaiduTagging(opt)\n      })\n      \n    }\n\n    document.querySelector('.upload_img').value = ''\n  }\n\n  initBaiduTagging = (opt) => {\n    this.baiduTaggingDestory()\n    \n    this.baiduTag = new BaiduTagging(opt)\n    console.log('this.baiduTag', this.baiduTag)\n  }\n\n  baiduTaggingDestory = () => {\n    if (this.baiduTag) {\n      this.baiduTag.dispose()\n      this.baiduTag = null\n    }\n  }\n\n  //  选择类型\n  setType = (type) => {\n    console.log('set type', type)\n    if (this.baiduTag) {\n      this.baiduTag.setType(type)\n    }\n  }\n\n  //  设置放大倍数\n  setScale = (scale) => {\n    console.log('set scale', scale)\n    if (this.baiduTag) {\n      this.baiduTag.setScale(scale)\n    }\n  }\n\n  getTagData = () => {\n    let arr = (this.baiduTag && this.baiduTag.getTagData()) || []\n    return arr\n  }\n\n  render() {\n    const { img } = this.state\n\n    return (\n      <div className=\"container dataset_container\">\n        <div className=\"dataset_container_main\">\n          <h1>数据标注</h1>\n          <Button type=\"primary\" onClick={this.switchImg}>选择图片</Button>\n          {\n            img ? \n            <Button\n              type=\"primary\"\n              onClick={this.getTagData}\n              style={{marginLeft: 10}}>\n              获取标注数据\n            </Button> : null\n          }\n          <input onChange={this.uploadImg} className=\"none upload_img\" type=\"file\" accept=\"image/*\"/>\n\n          {\n            img ?\n            <div className=\"dataset_container_content box_flex\">\n              <div className=\"left\">\n                {/* 顶部栏 */}\n                  <DatasetTypeHeader\n                  ref=\"datasetTypeHeader\"\n                  setScale={this.setScale}\n                  setType={this.setType} />\n\n                {/* 数据标注显示区域 */}\n                <div className=\"label-warp\"></div>\n              </div>\n              <div className=\"right flex\"></div>\n            </div> : null\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DataSet","import React from 'react'\nimport G2 from '@antv/g2'\n// import G6 from '@antv/g6'\nimport G from '@antv/g'\nimport CanvasDraw from '@/components/CanvasDraw'\nimport './index.less'\nimport {\n  Button\n} from 'antd';\n\nclass AntvDemo extends React.PureComponent {\n  state = {\n    points: [\n      {\n        type: 'polygon',\n        data: [\n          {x: 50, y: 50},\n          {x: 50, y: 100},\n          {x: 100, y: 50},\n          {x: 100, y: 100}\n        ]\n      }\n    ],\n    canvasDraw: null,\n    drawType: 'polygon',\n    //  图片是否加载完成\n    imgIsLoaded: false\n  }\n  canvasDraw = null\n  componentDidMount() {\n    console.log(this.props)\n    //  this.initChart()\n    //  this.G2Demo()\n    //  this.initCanvas()\n\n    this.initCanvasDraw()\n  }\n  initChart = () => {\n    // Step 1: 创建 Chart 对象\n    let { points } = this.state\n    const chart = new G2.Chart({\n      container: 'c1', // 指定图表容器 ID\n      width : 600, // 指定图表宽度\n      height : 400, // 指定图表高度\n      forceFit: true\n    });\n    const data = [\n      { genre: 'Sports', sold: 275 },\n      { genre: 'Strategy', sold: 115 },\n      { genre: 'Action', sold: 120 },\n      { genre: 'Shooter', sold: 350 },\n      { genre: 'Other', sold: 150 }\n    ];\n\n    const view = chart.view({})\n    // Step 2: 载入数据源\n    chart.source(data);\n    // Step 3：创建图形语法，绘制柱状图，由 genre 和 sold 两个属性决定图形位置，genre 映射至 x 轴，sold 映射至 y 轴\n    chart.interval().position('genre*sold').color('genre')\n    chart.clear()\n    // Step 4: 渲染图表\n    chart.polygon().position('genre*sold').color('red').size(5)\n    chart.render();\n   \n\n    // setTimeout(() => {\n    //   chart.clear()\n    // }, 2000)\n\n\n    // const Shape = G2.Shape;\n    // Shape.registerShape('interval', 'triangle', {\n    //   getPoints(cfg) {\n    //     const x = cfg.x;\n    //     const y = cfg.y;\n    //     const y0 = cfg.y0;\n    //     const width = cfg.size;\n    //     return [\n    //       { x: x - width / 2, y: y0 },\n    //       { x: x, y: y },\n    //       { x: x + width / 2, y: y0 }\n    //     ]\n    //   },\n    //   draw(cfg, group) {\n    //     const points = this.parsePoints(cfg.points); // 将0-1空间的坐标转换为画布坐标\n    //     const polygon = group.addShape('polygon', {\n    //       attrs: {\n    //         points: [\n    //           [ points[0].x, points[0].y ],\n    //           [ points[1].x, points[1].y ],\n    //           [ points[2].x, points[2].y ]\n    //         ],\n    //         fill: cfg.color\n    //       }\n    //     });\n    //     return polygon; // 将自定义Shape返回\n    //   }\n    // })\n\n    // const data = [\n    //   { genre: 'Sports', sold: 275 },\n    //   { genre: 'Strategy', sold: 115 },\n    //   { genre: 'Action', sold: 120 },\n    //   { genre: 'Shooter', sold: 350 },\n    //   { genre: 'Other', sold: 150 }\n    // ];\n    \n    // const chart = new G2.Chart({\n    //   id: 'c1',\n    //   height : 300,\n    //   forceFit: true,\n    // });\n    \n    // chart.source(data);\n    // chart.interval().position('genre*sold').color('genre').shape('triangle');\n    // chart.render();\n  }\n  G2Demo = () => {\n    const data = [\n      {x: 50, y: 50},\n      {x: 50, y: 100},\n      {x: 100, y: 100},\n      {x: 100, y: 50}\n    ];\n\n    const chart = new G2.Chart({\n      id: 'c1',\n      width : 600,\n      // forceFit: true,\n      height: 400,\n    });\n    const view = chart.view()\n    view.source(data); // 默认使用 chart 的列定义\n    // view.coord('polar', {\n    //   innerRadius: 0\n    // }); // 覆盖了 chart 的 coord 配置\n    // view.axis('sold', false); // 对于 genre 对应的坐标轴配置会默认使用 chart 的坐标轴配置\n    // view.interval()\n    //   .position('genre*sold')\n    //   .color('genre', [ '#61A5E8', '#7ECF51', '#EECB5F', '#E4925D', '#E16757' ]);\n    \n    //  view.point().position('x*y').color('red')\n    view.line().position('x*y').color('red')\n    chart.render();\n  }\n\n  initCanvas = () => {\n    var canvas = new G.Canvas({\n      containerId: 'c1',\n      width: 600,\n      height: 400\n    })\n\n    \n\n    canvas.addShape('image', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: 600,\n        height: 400,\n        img: 'https://static2.extremevision.com.cn/images/lion/case/case_bg1_0307.png?201906131041)'\n      }\n    })\n\n    canvas.addShape('circle', {\n      zIndex: 5,\n      attrs: {\n        x: 100,\n        y: 100,\n        r: 5,\n        stroke: 'yellow',\n        fill: 'yellow'\n      }\n    })\n\n    canvas.addShape('polygon', {\n      zIndex: 5,\n      attrs: {\n        points: [\n          [50, 50],\n          [200, 50],\n          [200, 150],\n          [50, 150],\n        ],\n        fill: 'rgba(129,9,39,0.5)',\n        stroke: 'red',\n        lineJoin: 'round',\n        lineWidth: 4,\n        id: 'polygon1'\n      }\n    }).on('click', (e) => {\n      console.log('polygon click', e)\n    })\n\n    canvas.addShape('line', {\n      zIndex: 5,\n      attrs: {\n        x1: 20,\n        y1: 20,\n        x2: 280,\n        y2: 280,\n        fill: 'pink',\n        stroke: 'pink',\n        lineJoin: 'round',\n        lineWidth: 5,\n        lineCap: 'round',\n        id: 'line1'\n      }\n    })\n    .on('click', () => {\n      console.log('line')\n    })\n    canvas.draw()\n\n    this.canvasBindEvt(canvas)\n  }\n  canvasBindEvt = (canvas) => {\n    canvas.on('mousedown', (e) => {\n      let btn = e.event.button\n      console.log('canvas mousedown', btn)\n\n      //  鼠标左键\n      if (btn === 0) {\n        console.log('鼠标左键')\n      }\n\n      if (btn === 2) {\n        console.log('鼠标右键')\n      }\n    })\n  }\n\n  //  插件封装初始化\n  initCanvasDraw = () => {\n    this.canvasDraw = new CanvasDraw({\n      w: 600,\n      h: 400,\n      imgOnLoadCb: this.imgOnLoadCb\n    })\n  }\n\n  //  点线框 加载图片\n  imgOnLoadCb = (isLoaded) => {\n    console.log('isLoaded', isLoaded)\n    this.setState({\n      imgIsLoaded: isLoaded\n    })\n\n    //  图片加载失败 销毁毁实例\n    if (!isLoaded && this.canvasDraw) {\n      this.canvasDraw.dispose()\n      this.canvasDraw = null\n    }\n  }\n\n  setDrawType = (type) => {\n    if (this.canvasDraw) {\n      this.canvasDraw.setDrawType(type)\n    }\n\n    this.setState({\n      drawType: type\n    })\n  }\n\n  render() {\n    let { drawType } = this.state\n\n    return (\n      <div className=\"antv_container\">\n        {/* <h3>antv demo</h3>\n        <div id=\"c1\" style={{width: 600, height: 400, margin: '0 auto'}}></div> style={{ display: canvasDraw ? 'block' : 'none' }} */}\n\n        <h3>antv 插件封装</h3>\n        <div className=\"header\">\n          <Button type={drawType === 'polygon' ? 'primary' : 'default'} icon=\"border\" onClick={() => {\n            this.setDrawType('polygon')\n          }} />\n          <Button type={drawType === 'line' ? 'primary' : 'default'} icon=\"line\" onClick={() => {\n            this.setDrawType('line')\n          }} />\n          <Button type={drawType === 'point' ? 'primary' : 'default'} icon=\"minus-circle\" onClick={() => {\n            this.setDrawType('point')\n          }} />\n          <Button type=\"default\" icon=\"delete\" />\n          <Button type=\"link\">抓图</Button>\n        </div>\n        <div id=\"canvasDraw\" style={{width: 600, height: 400, margin: '0 auto'}}></div>\n      </div>\n    )\n  }\n}\n\nexport default AntvDemo","/*\n * @Descripttion: \n * @version: \n * @Author: Jianyong Wang\n * @Date: 2019-06-06 16:28:54\n * @LastEditors: Jianyong Wang\n * @LastEditTime: 2021-01-29 22:19:54\n */\nimport {\n  Home,\n  List,\n  About,\n  Login,\n  SidebarDemo,\n  DataSet,\n  AntvDemo,\n  PolygonLinePoint\n} from '@/views'\n\nconst router = [\n  {\n    path: '/login',\n    component: Login\n  },\n  {\n    path: '/',\n    // component: Home,\n    component: DataSet,\n    exact: true,\n    needLogin: true\n  },\n  {\n    path: '/list',\n    component: List,\n    needLogin: true\n  },\n  {\n    path: '/about',\n    component: About,\n    needLogin: true\n  },\n  {\n    path: '/sidebar_demo',\n    component: SidebarDemo,\n    needLogin: true\n  },\n  {\n    path: '/data_set',\n    component: DataSet,\n    needLogin: false\n  },\n  {\n    path: '/antv_demo',\n    component: AntvDemo,\n    needLogin: false\n  },\n  {\n    path: '/polygon_line_point',\n    component: PolygonLinePoint,\n    needLogin: false\n  },\n]\n\nexport default router","import React from 'react'\nimport '../index.less'\nimport {\n  Modal,\n  Form,\n  Input,\n  Radio,\n  Button\n} from 'antd';\n\nclass PolygonHeader extends React.PureComponent {\n  state = {}\n  componentDidMount() {\n    \n  }\n\n  render() {\n    return (\n      <div className=\"polygon_line_point_header\">\n        <Button type=\"primary\" icon=\"border\" />\n        <Button type=\"primary\" icon=\"line\" />\n        <Button type=\"primary\" icon=\"minus-circle\" />\n        <Button type=\"primary\" icon=\"delete\" />\n        <Button type=\"link\">????</Button>\n      </div>\n    )\n  }\n}\n\nexport default PolygonHeader","import React from 'react'\nimport './index.less'\nimport PolygonHead from './components/PolygonHeader'\n\nclass DataSet extends React.PureComponent {\n  state = {}\n  componentDidMount() {\n    \n  }\n\n  render() {\n    return (\n      <div className=\"polygon_line_point\">\n        sdfsddf\n      </div>\n    )\n  }\n}\n\nexport default DataSet","import React from 'react'\n\nclass NoMatch extends React.PureComponent {\n  render() {\n    return (\n      <div>404</div>\n    )\n  }\n}\n\nexport default NoMatch","import React from 'react'\nimport { Route, Redirect, Switch } from 'react-router-dom'\nimport routes from './router'\n// import PrivateRoute from './PrivateRoute'\n// import { getStorageItem } from '@/util'\n// import Login from '@/views/Login'\nimport NoMatch from '@/views/NoMatch'\n\nclass AllRouter extends React.PureComponent {\n  state = {\n    isLogined: true // getStorageItem('isLogined') || false\n  }\n  render() {\n    let { isLogined } = this.state\n    console.log('isLogined', isLogined)\n\n    return (\n      <>\n      <Switch>\n        {/* <Route path=\"/login\" component={Login} /> */}\n        {\n          routes.map((route, index) => {\n            let { path, exact, needLogin } = route\n\n            return (\n              <Route\n                path={path}\n                key={path}\n                exact={exact}\n                render={props => (\n                  !needLogin ? <route.component {...props} />\n                  :\n                  (\n                    isLogined ? (<route.component {...props} />)\n                  : (\n                      <Redirect\n                        to={{\n                          pathname: \"/login\",\n                          state: { from: props.location }\n                        }}\n                      />\n                    )\n                  )\n                )}  \n              />\n            )\n\n          //  return (\n          //    <PrivateRoute {...route} key={index} />\n          //  )\n          })\n        }\n        <Route component={NoMatch} />\n      </Switch>\n      </>\n    )\n  }\n}\n\nexport default AllRouter","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, BrowserRouter } from 'react-router-dom'\nimport AllRouter from '@/router'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter getUserConfirmation={getConfirmation}>\n        <AllRouter />\n      </BrowserRouter>\n    </div>\n  );\n}\n\nfunction getConfirmation(message, callback) {\n  const allowTransition = window.confirm(message);\n  callback(allowTransition);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}